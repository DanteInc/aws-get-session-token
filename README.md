# aws-get-session-token

CLI for switching AWS profiles and creating temporary credientials with MFA and/or assuming a role

## Installation

`npm i aws-get-session-token -g`

## Usage

```
$ gst -p dev -t 123456

$ gst --help
Options:
  --profile, -p  Seed profile      [string] [default: "dev"]
  --token, -t    MFA token                          [string]
  --help         Show help                         [boolean]
```

## Configuration

Your aws credentials should be located at `~/.aws/credentials` per usual. Do not include a `[default]` profile because it will be generated by this utility. Optional `mfa_arn` is the arn of the mfa device that is registered with your IAM user. Optional `role_arn` is the arn of the role to assume.

```
[dev]
aws_access_key_id=ZZZZZZZZZZZZZZZZZZZZZZ
aws_secret_access_key=zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz
mfa_arn=arn:aws:iam::123456789012:mfa/my-user   (optional)
role_arn=arn:aws:iam::123456789012:role/my-role (optional)
```

Now, when you invoke the aws-sdk, it defaults to using the session you last started.

Inspired by: [vividbytes/awsmfa](https://github.com/vividbytes/awsmfa) and many others
